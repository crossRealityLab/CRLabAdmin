{"version":3,"sources":["firebase.js","env.js","providers/Auth.js","components/Logo.js","utils/getFiltersFuncProps.js","apis/firebaseApis.js","pages/Members/List.js","components/DynamicInput.js","components/ImgUploader.js","components/DynamicMutiInput.js","components/Input.js","configs/members.js","pages/Members/Form.js","pages/Members/index.js","pages/News/List.js","configs/news.js","pages/News/Form.js","pages/News/index.js","pages/Projects/List.js","configs/projects.js","pages/Projects/Form.js","pages/Projects/index.js","pages/Courses/List.js","configs/courses.js","pages/Courses/Form.js","pages/Courses/index.js","pages/Main.js","pages/Login.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","styled","div","_templateObject","FloatSearchBar","forwardRef","_ref","ref","setSelectedKeys","confirm","clearFilters","dataIndex","_useState","useState","_useState2","Object","slicedToArray","searchText","setSearchText","handleSearch","react_default","a","createElement","style","padding","input","value","placeholder","concat","onChange","e","target","onPressEnter","width","marginBottom","display","es_button","type","onClick","icon","size","marginRight","getFiltersFuncProps","searchBarRef","useRef","filterDropdown","props","assign","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","current","select","db","database","storage","create","endpoint","uuid","data","set","then","console","log","catch","error","getAll","orderByChild","once","val","get","update","remove","uploadImg","asyncToGenerator","regenerator_default","mark","_callee","imageName","file","storageRef","imgFile","image","imageURL","wrap","_context","prev","next","sent","child","substr","put","getDownloadURL","abrupt","t0","stop","_x","_x2","_x3","apply","this","arguments","List","list","setList","_useState3","_useState4","isLoading","setIsLoading","useEffect","_","values","finish","fetchData","onRemove","_ref2","_callee2","_context2","preList","filter","elem","notification","success","message","duration","description","renderLastEditTime","useCallback","timestamp","moment","local","format","renderAction","text","react_router_dom","to","divider","popconfirm","title","onConfirm","okText","cancelText","href","Fragment","marginLeft","table","dataSource","loading","Column","key","render","sorter","b","parseInt","DynamicInput","dataKey","getFieldDecorator","getFieldValue","setFieldsValue","_ref$validationRules","validationRules","_ref$isTextArea","isTextArea","initialValue","keys","currentId","length","k","defineProperty","map","es_form","Item","wrapperCol","span","rules","TextArea","autosize","offset","toConsumableArray","uploadButton","getBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","ImgUploader","_ref$endpoint","_ref$isSingleImg","isSingleImg","_ref$withCaption","withCaption","previewVisible","previewImage","previewStatus","setPreviewStatus","customUpload","_ref3","onError","onSuccess","fileName","_ref4","newEntry","preData","name","uuidV4","objectSpread","url","caption","handleCancel","pre","handlePreview","_ref5","preview","originFileObj","handleImgUpload","handleImgRemove","newData","uid","getImgList","reduce","acc","upload","listType","defaultFileList","customRequest","onPreview","beforeUpload","idx","modal","footer","onCancel","alt","src","DynamicMutiInput","_ref$fields","fields","hasInitLoad","setHasInitLoad","_setFieldsValue","handleFieldChange","obj","entries","_acc","inputParams","InputItem","Form","Input_templateObject","inputProps","Field","_ref2$validationRules","_ref2$inputProps","dataBindingConfs","defaultValue","withLocalKey","dataBindingKeys","LoadingIcon","Icon","Form_templateObject","ButtonWrapper","_templateObject2","prepareUploadedData","forEach","uploadData","_args","Date","now","createdTimestamp","form","match","history","validateFields","setData","createDataBinder","setInitFormValue","setPair","delaySetPair","imgInfo","status","avatar","idxValue","Array","handleSubmit","preventDefault","err","preparedData","params","push","_ref6","_callee3","_context3","_x4","spin","indicator","onSubmit","labelCol","label","Input_Field","fullName","required","email","focusOn","website","Input_TextArea","about","publications","validator","rule","isNaN","awards","htmlType","Members","react_router","exact","path","component","from","News_List","date","unix","News_Form_templateObject","Form_templateObject2","Form_LoadingIcon","test","Form_ButtonWrapper","News","Projects_List","renderTags","tags","tag","es_tag","toUpperCase","year","Projects_Form_templateObject","Projects_Form_templateObject2","cover","Projects_Form_LoadingIcon","showTitle","authors","imgs","videos","abstract","descriptions","publicationOn","acceptedYear","pdf","doi","Projects_Form_ButtonWrapper","Projects","Courses_List","Courses_Form_templateObject","Courses_Form_templateObject2","Courses_Form_LoadingIcon","courseID","credits","location","tas","office","officeHours","link","Courses_Form_ButtonWrapper","Courses","Header","Layout","Content","Footer","Sider","Link","NavLink","Main_templateObject","Main","signOut","auth","layout","minWidth","minHeight","breakpoint","collapsedWidth","Logo","menu","theme","mode","selectedKeys","activeClassName","background","textAlign","margin","MiddlizeWrapper","Login_templateObject","handleLogin","event","account","password","signInWithEmailAndPassword","useContext","currentUser","prefix","float","PrivateRoute","RouteComponent","rest","objectWithoutProperties","routeProps","Boolean","window","hostname","ReactDOM","children","setCurrentUser","onAuthStateChanged","Provider","Login","App_PrivateRoute","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.219a2dd3.chunk.js","sourcesContent":["import firebase from 'firebase';\nimport 'firebase/auth';\nimport env from './env';\n\nfirebase.initializeApp(env);\n\nexport default firebase;","export default {\n  apiKey: \"AIzaSyAHQoH0ZAhFrRRKj9alF4m6w3vSOfpbxQ8\",\n  authDomain: \"crlab-admin.firebaseapp.com\",\n  databaseURL: \"https://crlab-admin.firebaseio.com\",\n  projectId: \"crlab-admin\",\n  storageBucket: \"crlab-admin.appspot.com\",\n  messagingSenderId: \"452369537329\",\n  appId: \"1:452369537329:web:bc5f621ac26b863c\"\n};","import React, { useEffect, useState } from 'react';\nimport firebase from '../firebase';\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(setCurrentUser);\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import styled from 'styled-components';\n\nexport default styled.div`\n  height: 32px;\n  margin: 16px;\n  text-align: center;\n  color: #fff;\n  font-size: 16px;\n`;","import React, { useState, useRef } from 'react';\nimport { Input, Button, Icon } from 'antd';\n\nconst FloatSearchBar = React.forwardRef(\n  ({ setSelectedKeys, confirm, clearFilters, dataIndex }, ref) => {\n    const [searchText, setSearchText] = useState('');\n\n    const handleChange = e => {\n      setSearchText(e.target.value);\n      setSelectedKeys(e.target.value ? [e.target.value] : []);\n    };\n\n    const handleSearch = () => {\n      confirm();\n    };\n\n    const onReset = () => {\n      setSearchText('');\n      clearFilters();\n    };\n\n    return (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={ref}\n          value={searchText}\n          placeholder={`Search ${dataIndex}`}\n          onChange={handleChange}\n          onPressEnter={handleSearch}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        <Button\n          type=\"primary\"\n          onClick={handleSearch}\n          icon=\"search\"\n          size=\"small\"\n          style={{ width: 90, marginRight: 8 }}\n        >\n          Search\n        </Button>\n        <Button onClick={onReset} size=\"small\" style={{ width: 90 }}>\n          Reset\n        </Button>\n      </div>\n    );\n  }\n);\n\nexport default dataIndex => {\n  const searchBarRef = useRef(null);\n  return {\n    filterDropdown: props => (\n      <FloatSearchBar ref={searchBarRef} dataIndex={dataIndex} {...props} />\n    ),\n    filterIcon: filtered => (\n      <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />\n    ),\n    onFilter: (value, record) =>\n      record[dataIndex]\n        .toString()\n        .toLowerCase()\n        .includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: visible => {\n      if (visible) {\n        setTimeout(() => searchBarRef.current.select());\n      }\n    }\n  };\n};\n","import firebase from '../firebase';\n\nconst db = firebase.database();\nconst storage = firebase.storage();\n\nexport const create = (endpoint, uuid, data) => {\n  return db.ref(`${endpoint}/${uuid}`)\n    .set(data)\n    .then(() => console.log(`CREATE ${endpoint} ${uuid} COMPLETE`))\n    .catch(e => {\n      console.error(`CREATE ${endpoint} ${uuid} ERROR: ${e}`);\n      throw e;\n    });\n};\n\nexport const getAll = (endpoint) => {\n  return db\n    .ref(endpoint)\n    .orderByChild('timestamp')\n    .once('value')\n    .then(data => data.val())\n    .catch(e => {\n      console.error(`GET ALL ${endpoint} ERROR`, e);\n      throw e;\n    });\n};\n\nexport const get = (endpoint, uuid) => {\n  return db\n    .ref(`${endpoint}/${uuid}`)\n    .once('value')\n    .then(data => data.val())\n    .catch(e => {\n      console.error(`GET ${endpoint} ${uuid} ERROR: ${e}`);\n      throw e;\n    });\n};\n\nexport const update = (endpoint, uuid, data) => {\n  return db.ref(`${endpoint}/${uuid}`)\n    .update(data)\n    .then(() => console.log(`UPDATE ${endpoint} ${uuid} COMPLETE`))\n    .catch(e => {\n      console.error(`UPDATE ${endpoint} ${uuid} ERROR: ${e}`);\n      throw e;\n    });\n};\n\nexport const remove = (endpoint ,uuid) => {\n  return db.ref(`${endpoint}/${uuid}`)\n    .remove()\n    .then(() => console.log(`REMOVE ${endpoint} ${uuid} COMPLETE`))\n    .catch(e => {\n      console.error(`REMOVE ${endpoint} ${uuid} ERROR: ${e}`);\n      throw e;\n    });\n};\n\nexport const uploadImg = async (endpoint, imageName, file) => {\n  const storageRef = await storage.ref();\n  const imgFile = storageRef.child(`${endpoint.substr(1)}/${imageName}`);\n  try {\n    const image = await imgFile.put(file);\n    const imageURL = await storageRef\n      .child(`${endpoint.substr(1)}/${imageName}`)\n      .getDownloadURL();\n    return { image, imageURL };\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const removeImg = async (endpoint, imageName) => {\n  const storageRef = await storage.ref();\n  const imgFile = storageRef.child(`${endpoint.substr(1)}/${imageName}`);\n  // Delete the file\n  return imgFile\n    .delete()\n    .then(() => console.log(`${endpoint} DELETE FILE ${imageName} FROM SERVER COMPLETE`))\n    .catch(e => {\n      console.log(`${endpoint} DELETE FILE ${imageName} FROM SERVER ERROR: ${e}`);\n      throw e;\n    });\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { Table, Divider, Button, Popconfirm, notification } from 'antd';\nimport _ from 'lodash';\n\nimport getFiltersFuncProps from '../../utils/getFiltersFuncProps';\nimport { getAll, remove } from '../../apis/firebaseApis';\n\nexport default () => {\n  const [list, setList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getAll('/members');\n        setList(_.values(data));\n        // console.log(_.values(data))\n      } catch (e) {\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const onRemove = async uuid => {\n    setIsLoading(true);\n    try {\n      await remove('/members', uuid);\n      setList(preList => preList.filter(elem => elem.uuid !== uuid));\n      notification.success({\n        message: `Remove Complete!`,\n        duration: 4\n      });\n    } catch (e) {\n      notification.error({\n        message: `Remove Error!`,\n        description: `${e}`,\n        duration: 4\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const renderLastEditTime = useCallback(\n    timestamp =>\n      moment(timestamp)\n        .local()\n        .format('YYYY/MM/DD HH:mm:ss'),\n    []\n  );\n\n  const renderAction = useCallback(\n    (text, record) => (\n      <span>\n        <Link to={`/members/${record.uuid}/edit`}>Edit</Link>\n        <Divider type=\"vertical\" />\n        <Popconfirm\n          title=\"Are you sure to delete ?\"\n          onConfirm={() => onRemove(record.uuid)}\n          okText=\"Yes\"\n          cancelText=\"No\"\n        >\n          <a href=\"javascript:;\">Delete</a>\n        </Popconfirm>\n      </span>\n    ),\n    []\n  );\n\n  return (\n    <>\n      <Link to=\"/members/create\">\n        <Button\n          type=\"primary\"\n          style={{\n            marginLeft: '15px',\n            marginBottom: '15px'\n          }}\n        >\n          Create\n        </Button>\n      </Link>\n      <Table dataSource={list} loading={isLoading}>\n        <Table.Column\n          title=\"Name\"\n          dataIndex=\"fullName\"\n          key=\"fullName\"\n          {...getFiltersFuncProps('fullName')}\n        />\n        <Table.Column\n          title=\"Title\"\n          dataIndex=\"title\"\n          key=\"title\"\n          {...getFiltersFuncProps('title')}\n        />\n        <Table.Column\n          title=\"Last edit\"\n          dataIndex=\"timestamp\"\n          key=\"timestamp\"\n          render={renderLastEditTime}\n          sorter={(a, b) => parseInt(a.timestamp) - parseInt(b.timestamp)}\n        />\n        <Table.Column title=\"Action\" key=\"action\" render={renderAction} />\n      </Table>\n    </>\n  );\n};\n","import React, { useRef } from 'react';\nimport { Form, Input, Button, Icon } from 'antd';\n\nexport default ({\n  dataKey,\n  getFieldDecorator,\n  getFieldValue,\n  setFieldsValue,\n  validationRules = [],\n  isTextArea = false\n}) => {\n  getFieldDecorator(`${dataKey}-idx`, { initialValue: [0] });\n  const keys = getFieldValue(`${dataKey}-idx`);\n\n  const currentId = useRef(keys.length);\n\n  const remove = k => () => {\n    const keys = getFieldValue(`${dataKey}-idx`);\n    if (keys.length === 1) {\n      return;\n    }\n\n    setFieldsValue({\n      [`${dataKey}-idx`]: keys.filter(key => key !== k)\n    });\n  };\n\n  const add = () => {\n    const keys = getFieldValue(`${dataKey}-idx`);\n    setFieldsValue({\n      [`${dataKey}-idx`]: [...keys, currentId.current]\n    });\n\n    currentId.current = currentId.current + 1;\n  };\n\n  return (\n    <React.Fragment>\n      {keys.map(k => (\n        <Form.Item\n          style={{ width: '150%', marginBottom: '-20px' }}\n          key={k}\n          wrapperCol={{ span: 20 }}\n        >\n          {getFieldDecorator(`${dataKey}[${k}]`, {\n            rules: validationRules\n          })(\n            isTextArea ? (\n              <Input.TextArea style={{ width: '80%' }} autosize />\n            ) : (\n              <Input style={{ width: '80%' }} />\n            )\n          )}\n          {keys.length > 1 ? (\n            <Icon\n              type=\"minus-circle-o\"\n              onClick={remove(k)}\n              style={{ marginLeft: '10px' }}\n            />\n          ) : null}\n        </Form.Item>\n      ))}\n      <Form.Item\n        wrapperCol={{ span: 12, offset: 2 }}\n        style={{ marginBottom: 'unset' }}\n      >\n        <Button type=\"dashed\" onClick={add} style={{ width: '60%' }}>\n          <Icon type=\"plus\" /> Add field\n        </Button>\n      </Form.Item>\n    </React.Fragment>\n  );\n};\n","import React, { useState, useCallback } from 'react';\nimport { Icon, Upload, Modal, Input, notification } from 'antd';\nimport uuidV4 from 'uuid/v4';\nimport { uploadImg } from '../apis/firebaseApis';\n\nconst uploadButton = (\n  <div>\n    <Icon type=\"plus\" />\n    <div>Drag or Click to upload</div>\n  </div>\n);\n\nconst getBase64 = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n};\n\nexport default ({\n  dataKey,\n  getFieldDecorator,\n  getFieldValue,\n  setFieldsValue,\n  endpoint = '',\n  isSingleImg = false,\n  withCaption = false\n}) => {\n  /**\n   *  type Data = {\n   *    uuid: string;\n   *    file: file elem from fileList;\n   *    caption: string;\n   *  }[];\n   */\n  getFieldDecorator(dataKey, { initialValue: [] });\n\n  const [previewStatus, setPreviewStatus] = useState({\n    previewVisible: false,\n    previewImage: ''\n  });\n\n  const customUpload = useCallback(\n    async ({ onError, onSuccess, file }) => {\n      try {\n        const fileName = file.name;\n        // 拖曳後即上傳，即使沒有 submit 出去。\n        const { image, imageURL } = await uploadImg(endpoint, fileName, file);\n        /**\n         * Why ...file will miss file.name ???\n         */\n        const newEntry = {\n          uuid: uuidV4(),\n          file: {\n            ...file,\n            name: fileName,\n            url: imageURL\n          },\n          caption: ''\n        };\n\n        const preData = getFieldValue(dataKey);\n\n        setFieldsValue({\n          [dataKey]: [...preData, newEntry]\n        });\n\n        onSuccess(null, image);\n      } catch (e) {\n        onError(e);\n      }\n    },\n    [getFieldValue, setFieldsValue, dataKey]\n  );\n\n  const handleCancel = useCallback(\n    () => setPreviewStatus(pre => ({ ...pre, previewVisible: false })),\n    [setPreviewStatus]\n  );\n\n  const handlePreview = useCallback(\n    async file => {\n      if (!file.url && !file.preview) {\n        file.preview = await getBase64(file.originFileObj);\n      }\n      setPreviewStatus({\n        previewImage: file.url || file.preview,\n        previewVisible: true\n      });\n    },\n    [setPreviewStatus]\n  );\n\n  const handleImgUpload = useCallback(file => {\n    const isImg = file.type === 'image/jpeg' || file.type === 'image/png';\n    if (!isImg) {\n      notification.error({\n        message: `You can only upload png or jpg file.`,\n        duration: 2\n      });\n      return false;\n    }\n    return true;\n  }, []);\n\n  const handleCaptionInput = uid => e => {\n    const preData = getFieldValue(dataKey);\n    const newData = preData.map(elem => {\n      if (elem.file.uid === uid) {\n        return {\n          uid,\n          file: elem.file,\n          caption: e.target.value\n        };\n      }\n      return elem;\n    });\n\n    setFieldsValue({\n      [dataKey]: newData\n    });\n  };\n\n  /**\n   * We dont remove image on DB, maybe it is referenced from others ...\n   */\n  const handleImgRemove = useCallback(\n    file => {\n      const preData = getFieldValue(dataKey);\n      const newData = preData.filter(elem => !(elem.file.uid === file.uid));\n\n      setFieldsValue({\n        [dataKey]: newData\n      });\n    },\n    [getFieldValue, setFieldsValue, dataKey]\n  );\n\n  const getImgList = useCallback(() => {\n    const data = getFieldValue(dataKey);\n    return data\n      ? data.reduce((acc, current) => [...acc, current.file], [])\n      : [];\n  }, [getFieldValue, dataKey]);\n\n  return (\n    <>\n      <Upload\n        name=\"files\"\n        listType=\"picture-card\"\n        defaultFileList={getImgList()}\n        customRequest={customUpload}\n        onPreview={handlePreview}\n        onRemove={handleImgRemove}\n        beforeUpload={handleImgUpload}\n      >\n        {isSingleImg &&\n        getFieldValue(dataKey) &&\n        getFieldValue(dataKey).length >= 1\n          ? null\n          : uploadButton}\n      </Upload>\n      {withCaption &&\n        getFieldValue(dataKey) &&\n        getFieldValue(dataKey).map((elem, idx) => (\n          <Input\n            key={`${elem.file.name}-${idx}`}\n            value={elem.caption}\n            onChange={handleCaptionInput(elem.file.uid)}\n          />\n        ))}\n      <Modal\n        visible={previewStatus.previewVisible}\n        footer={null}\n        onCancel={handleCancel}\n      >\n        <img\n          alt=\"example\"\n          style={{ width: '100%' }}\n          src={previewStatus.previewImage}\n        />\n      </Modal>\n    </>\n  );\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Form, Input, Button, Icon } from 'antd';\n\nexport default ({\n  dataKey,\n  getFieldDecorator,\n  getFieldValue,\n  setFieldsValue,\n  fields = []\n}) => {\n  const [hasInitLoad, setHasInitLoad] = useState(false);\n\n  getFieldDecorator(`${dataKey}-idx`, { initialValue: [] });\n  const keys = getFieldValue(`${dataKey}-idx`);\n  getFieldDecorator(dataKey, { initialValue: [] });\n  const data = getFieldValue(dataKey);\n\n  const currentId = useRef(keys.length);\n\n  const remove = k => () => {\n    const keys = getFieldValue(`${dataKey}-idx`);\n\n    const newData = [...data];\n    newData[k] = undefined;\n\n    setFieldsValue({\n      [`${dataKey}-idx`]: keys.filter(key => key !== k),\n      [dataKey]: newData\n    });\n  };\n\n  const add = () => {\n    const keys = getFieldValue(`${dataKey}-idx`);\n\n    setFieldsValue({\n      [`${dataKey}-idx`]: [...keys, currentId.current]\n    });\n\n    currentId.current = currentId.current + 1;\n  };\n\n  const handleFieldChange = (idx, key) => e => {\n    const newData = [...data];\n\n    if (!newData[idx]) {\n      newData[idx] = fields.reduce((acc, current) => {\n        if (current.key === key) {\n          return {\n            ...acc,\n            [current.key]: e.target.value\n          };\n        }\n        return {\n          ...acc,\n          [current.key]: ''\n        };\n      }, {});\n    } else {\n      newData[idx][key] = e.target.value;\n    }\n\n    setFieldsValue({\n      [dataKey]: newData\n    });\n  };\n\n  useEffect(() => {\n    if (!hasInitLoad && data.length > 0) {\n      const set = data.reduce((acc, current, idx) => {\n        const obj = Object.entries(current).reduce((_acc, [key, value]) => {\n          return {\n            ..._acc,\n            [`${dataKey}-${key}-${idx}`]: value\n          };\n        }, {});\n        return {\n          ...acc,\n          ...obj\n        };\n      }, {});\n      setFieldsValue({ ...set });\n      setHasInitLoad(true);\n    }\n\n    // When Create\n    if(!hasInitLoad && keys.length < 1) {\n      setHasInitLoad(true);\n    }\n\n  });\n\n  return (\n    <React.Fragment>\n      {keys.map(k => (\n        <Form.Item\n          style={{ width: '150%', marginBottom: '-20px' }}\n          key={k}\n          wrapperCol={{ span: 20 }}\n        >\n          {fields.map(({ key, validationRules, inputParams, isTextArea }) => (\n            <Form.Item key={key}>\n              {isTextArea\n                ? getFieldDecorator(`${dataKey}-${key}-${k}`, {\n                    rules: validationRules\n                  })(\n                    <Input.TextArea\n                      onChange={handleFieldChange(k, key)}\n                      style={{ width: '80%' }}\n                      autosize\n                      {...inputParams}\n                    />\n                  )\n                : getFieldDecorator(`${dataKey}-${key}-${k}`, {\n                    rules: validationRules\n                  })(\n                    <Input\n                      onChange={handleFieldChange(k, key)}\n                      {...inputParams}\n                    />\n                  )}\n            </Form.Item>\n          ))}\n\n          {keys.length > 0 ? (\n            <Icon\n              type=\"minus-circle-o\"\n              onClick={remove(k)}\n              style={{ marginLeft: '10px' }}\n            />\n          ) : null}\n        </Form.Item>\n      ))}\n      <Form.Item\n        wrapperCol={{ span: 12, offset: 2 }}\n        style={{ marginBottom: 'unset' }}\n      >\n        <Button type=\"dashed\" onClick={add} style={{ width: '60%' }}>\n          <Icon type=\"plus\" /> Add field\n        </Button>\n      </Form.Item>\n    </React.Fragment>\n  );\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Input, Form } from 'antd';\n\n\n/**\n * Fucking antd, validating msg only show when input is the directive child of Form.Item,\n * so in normal Input, I mannually add Form.Item as wrapper.\n */\nexport const InputItem = styled(Form.Item)`\n  margin-bottom: 0;\n`;\n\nexport const TextArea = ({\n  dataKey,\n  validationRules = [],\n  inputProps = {},\n  getFieldDecorator\n}) => (\n  <Form.Item>\n    {getFieldDecorator(dataKey, {\n      rules: validationRules\n    })(<Input.TextArea autosize />)}\n  </Form.Item>\n);\n\nexport const Field = ({\n  dataKey,\n  validationRules = [],\n  inputProps = {},\n  getFieldDecorator\n}) => (\n  <Form.Item>\n    {getFieldDecorator(dataKey, {\n      rules: validationRules\n    })(<Input {...inputProps} />)}\n  </Form.Item>\n);\n","/**\n * In order to work with antd Form data binding\n */\n\nexport const dataBindingConfs = [\n  {\n    key: 'fullName',\n    defaultValue: ''\n  },\n  {\n    key: 'title',\n    defaultValue: ''\n  },\n  {\n    key: 'email',\n    defaultValue: '',\n  },\n  {\n    key: 'focusOn',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'website',\n    defaultValue: ''\n  },\n  {\n    key: 'avatar',\n    defaultValue: [],\n  },\n  {\n    key: 'about',\n    defaultValue: '',\n  },\n  {\n    key: 'publications',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'awards',\n    defaultValue: [],\n    withLocalKey: true\n  },\n];\n\nexport const dataBindingKeys = dataBindingConfs.reduce(\n  (acc, current) => ({ ...acc, [current.key]: current.key }),\n  {}\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Spin, Icon, notification } from 'antd';\nimport styled from 'styled-components';\nimport uuidV4 from 'uuid/v4';\n\nimport DynamicInput from '../../components/DynamicInput';\nimport ImgUploader from '../../components/ImgUploader';\nimport DynamicMutiInput from '../../components/DynamicMutiInput';\nimport { InputItem, TextArea, Field } from '../../components/Input';\n\nimport { dataBindingConfs, dataBindingKeys } from '../../configs/members';\nimport { create, get, update } from '../../apis/firebaseApis';\n\nconst LoadingIcon = styled(Icon)`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  font-size: 24;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 40px 0 0 40px;\n\n  > * {\n    margin: 0 5px;\n  }\n`;\n\nconst prepareUploadedData = data => {\n  const result = {};\n\n  dataBindingConfs.forEach(({ key, withLocalKey }) => {\n    if (key === 'imgs') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url,\n        caption: elem.caption\n      }));\n    } else if (key === 'avatar') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url\n      }));\n    } else if (withLocalKey) {\n      result[key] =  data[key] ? data[key].filter(elem => !!elem) : [];\n    } else {\n      result[key] = data[key] ? data[key] : '';\n    }\n  });\n\n  return result;\n};\n\nconst uploadData = async (data, uuid = '') => {\n  try {\n    if (uuid) {\n      data.uuid = uuid;\n      data.timestamp = Date.now();\n      await update('/members', uuid, data);\n    } else {\n      data.uuid = uuidV4();\n      data.createdTimestamp = Date.now();\n      data.timestamp = data.createdTimestamp;\n      await create('/members', data.uuid, data);\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\nconst MemberForm = ({ form, match, history }) => {\n  const { validateFields, getFieldDecorator, setFieldsValue } = form;\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({});\n\n  const createDataBinder = useCallback(() => {\n    dataBindingConfs.forEach(elem => {\n      if (elem.withLocalKey) {\n        // Create ''only'' local key binder first when it's dynamic input, otherwise it will crash .\n        getFieldDecorator(`${elem.key}-idx`);\n      } else {\n        getFieldDecorator(elem.key);\n      }\n    });\n  }, [getFieldDecorator]);\n\n  const setInitFormValue = useCallback(\n    data => {\n      const setPair = {};\n      const delaySetPair = {}; // dynamic input data need to set ''after'' its component created.\n\n      dataBindingConfs.forEach(({ key, withLocalKey, defaultValue }) => {\n        if (key === 'imgs') {\n          const value = data[key]\n            ? data[key].map((imgInfo, idx) => ({\n                file: {\n                  uid: `img-${idx}`,\n                  name: imgInfo.name,\n                  status: 'done',\n                  url: imgInfo.url\n                },\n                caption: imgInfo.caption\n              }))\n            : defaultValue;\n          setPair[key] = value;\n        } else if (key === 'avatar') {\n          const value = data[key]\n            ? [\n                {\n                  file: {\n                    uid: 'avatar',\n                    name: data.avatar[0].name,\n                    status: 'done',\n                    url: data.avatar[0].url\n                  },\n                  caption: ''\n                }\n              ]\n            : defaultValue;\n          setPair[key] = value;\n        } else if (withLocalKey) {\n          const idxValue = data[key]\n            ? [...Array(data[key].length)].map((elem, idx) => idx)\n            : defaultValue;\n\n          setPair[`${key}-idx`] = idxValue;\n          delaySetPair[key] = data[key] ? data[key] : defaultValue;\n        } else {\n          setPair[key] = data[key] ? data[key] : defaultValue;\n        }\n      });\n\n      setFieldsValue(setPair);\n      setTimeout(() => setFieldsValue(delaySetPair), 0);\n    },\n    [setFieldsValue]\n  );\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      validateFields(async (err, data) => {\n        if (!err) {\n          console.log('Received values of form: ', data);\n          try {\n            const preparedData = prepareUploadedData(data);\n            await uploadData(preparedData, match.params.uuid);\n\n            notification.success({\n              message: `Create/Edit ${data.title} complete!`,\n              duration: 4\n            });\n            history.push(`/members/list`);\n          } catch (e) {\n            console.error(e);\n            notification.error({\n              message: `Create ${data.title} error!`,\n              description: `${e}`,\n              duration: 2\n            });\n          }\n        } else {\n          console.log('MEMBER ON SUBMIT ERROR:', err);\n        }\n      });\n    },\n    [validateFields, match.params.uuid, history]\n  );\n\n  useEffect(() => {\n    const fetchData = async uuid => {\n      setIsLoading(true);\n      // const data = await fakeAPI();\n      const data = await get('/members', uuid);\n      if (data) {\n        setData(data);\n        setInitFormValue(data);\n      }\n      setIsLoading(false);\n    };\n\n    createDataBinder();\n\n    if (match.params.uuid) {\n      fetchData(match.params.uuid);\n    } else {\n      setIsLoading(false);\n    }\n  }, [\n    setIsLoading,\n    setData,\n    setInitFormValue,\n    createDataBinder,\n    match.params.uuid\n  ]);\n\n  if (isLoading) {\n    return <Spin indicator={<LoadingIcon type=\"loading\" spin />} />;\n  }\n\n  return (\n    <Form\n      onSubmit={handleSubmit}\n      labelCol={{ span: 3 }}\n      wrapperCol={{ span: 12, offset: 1 }}\n    >\n      <Form.Item label=\"UUID\">\n        {data.uuid ? <strong>{data.uuid}</strong> : ''}\n      </Form.Item>\n      <InputItem label=\"Full name\">\n        <Field\n          dataKey={dataBindingKeys.fullName}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the full name of this memeber.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Avatar\">\n        <ImgUploader\n          dataKey={dataBindingKeys.avatar}\n          isSingleImg\n          endpoint=\"/members\"\n          {...form}\n        />\n      </Form.Item>\n      <InputItem label=\"Title\">\n        <Field\n          dataKey={dataBindingKeys.title}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set the title of this member(e.g. professor, PhD, Master).'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Email\">\n        <Field\n          dataKey={dataBindingKeys.email}\n          validationRules={[\n            {\n              type: 'email',\n              message: 'The input must be an email.'\n            },\n            {\n              required: true,\n              message: 'Please set the email of this member.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Focus on\">\n        <DynamicInput dataKey={dataBindingKeys.focusOn} {...form} />\n      </Form.Item>\n      <InputItem label=\"Personal website\">\n        <Field\n          dataKey={dataBindingKeys.website}\n          validationRules={[\n            {\n              type: 'url',\n              message: 'The input must be an url.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"About\">\n        <TextArea dataKey={dataBindingKeys.about} {...form} />\n      </InputItem>\n      <Form.Item label=\"Publications\">\n        <DynamicMutiInput\n          dataKey={dataBindingKeys.publications}\n          fields={[\n            {\n              key: 'title',\n              inputParams: {\n                placeholder: 'title'\n              },\n              validationRules: [\n                {\n                  required: true,\n                  message: \"Publication's title is required.\"\n                }\n              ]\n            },\n            {\n              key: 'conference',\n              inputParams: {\n                placeholder: 'conference'\n              }\n            },\n            {\n              key: 'year',\n              inputParams: {\n                placeholder: 'year'\n              },\n              validationRules: [\n                {\n                  validator: (rule, value) => !isNaN(value),\n                  message: 'Input must be a number.'\n                }\n              ]\n            },\n            {\n              key: 'link',\n              inputParams: {\n                placeholder: 'link'\n              },\n              validationRules: [\n                {\n                  type: 'url',\n                  message: 'Input must be an url.'\n                }\n              ]\n            }\n          ]}\n          {...form}\n        />\n      </Form.Item>\n      <Form.Item label=\"Awards\">\n        <DynamicMutiInput\n          dataKey={dataBindingKeys.awards}\n          fields={[\n            {\n              key: 'title',\n              inputParams: {\n                placeholder: 'title'\n              }\n            },\n            {\n              key: 'year',\n              inputParams: {\n                placeholder: 'year'\n              }\n            }\n          ]}\n          {...form}\n        />\n      </Form.Item>\n      <ButtonWrapper>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n        <Link to=\"/members/list\">\n          <Button type=\"danger\">Back</Button>\n        </Link>\n      </ButtonWrapper>\n    </Form>\n  );\n};\n\nexport default Form.create()(MemberForm);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nexport default ({ match }) => {\n  const { url } = match;\n  return (\n    <Switch>\n      <Route exact path={`${url}/list`} component={List} />\n      <Route path={`${url}/:uuid/edit`} component={Form} />\n      <Route path={`${url}/create`} component={Form} />\n      <Redirect from=\"*\" to={`${url}/list`} />\n    </Switch>\n  );\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { Table, Divider, Button, Popconfirm, notification } from 'antd';\nimport _ from 'lodash';\n\nimport getFiltersFuncProps from '../../utils/getFiltersFuncProps';\nimport { getAll, remove } from '../../apis/firebaseApis';\n\nexport default () => {\n  const [list, setList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getAll('/news');\n        setList(_.values(data));\n        // console.log(_.values(data))\n      } catch (e) {\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const onRemove = async uuid => {\n    setIsLoading(true);\n    try {\n      await remove('/news', uuid);\n      setList(preList => preList.filter(elem => elem.uuid !== uuid));\n      notification.success({\n        message: `Remove Complete!`,\n        duration: 4\n      });\n    } catch (e) {\n      notification.error({\n        message: `Remove Error!`,\n        description: `${e}`,\n        duration: 4\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const renderLastEditTime = useCallback(\n    timestamp =>\n      moment(timestamp)\n        .local()\n        .format('YYYY/MM/DD HH:mm:ss'),\n    []\n  );\n\n  const renderAction = useCallback(\n    (text, record) => (\n      <span>\n        <Link to={`/news/${record.uuid}/edit`}>Edit</Link>\n        <Divider type=\"vertical\" />\n        <Popconfirm\n          title=\"Are you sure to delete ?\"\n          onConfirm={() => onRemove(record.uuid)}\n          okText=\"Yes\"\n          cancelText=\"No\"\n        >\n          <a href=\"javascript:;\">Delete</a>\n        </Popconfirm>\n      </span>\n    ),\n    []\n  );\n\n  return (\n    <>\n      <Link to=\"/news/create\">\n        <Button\n          type=\"primary\"\n          style={{\n            marginLeft: '15px',\n            marginBottom: '15px'\n          }}\n        >\n          Create\n        </Button>\n      </Link>\n      <Table dataSource={list} loading={isLoading}>\n        <Table.Column\n          title=\"Title\"\n          dataIndex=\"title\"\n          key=\"title\"\n          {...getFiltersFuncProps('title')}\n        />\n        <Table.Column\n          title=\"Date\"\n          dataIndex=\"date\"\n          key=\"date\"\n          sorter={(a, b) => moment(a.date).unix() - moment(b.date).unix()}\n        />\n        <Table.Column\n          title=\"Last edit\"\n          dataIndex=\"timestamp\"\n          key=\"timestamp\"\n          render={renderLastEditTime}\n          sorter={(a, b) => parseInt(a.timestamp) - parseInt(b.timestamp)}\n        />\n        <Table.Column title=\"Action\" key=\"action\" render={renderAction} />\n      </Table>\n    </>\n  );\n};\n","/**\n * In order to work with antd Form data binding\n */\n\nexport const dataBindingConfs = [\n  {\n    key: 'title',\n    defaultValue: ''\n  },\n  {\n    key: 'date',\n    defaultValue: '',\n  },\n  {\n    key: 'description',\n    defaultValue: ''\n  },\n];\n\nexport const dataBindingKeys = dataBindingConfs.reduce(\n  (acc, current) => ({ ...acc, [current.key]: current.key }),\n  {}\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Spin, Icon, DatePicker, notification } from 'antd';\nimport styled from 'styled-components';\nimport uuidV4 from 'uuid/v4';\n\nimport { InputItem, TextArea, Field } from '../../components/Input';\n\nimport { dataBindingConfs, dataBindingKeys } from '../../configs/news';\nimport { create, get, update } from '../../apis/firebaseApis';\n\nconst LoadingIcon = styled(Icon)`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  font-size: 24;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 40px 0 0 40px;\n\n  > * {\n    margin: 0 5px;\n  }\n`;\n\nconst prepareUploadedData = data => {\n  const result = {};\n\n  dataBindingConfs.forEach(({ key, withLocalKey }) => {\n    if (key === 'imgs') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url,\n        caption: elem.caption\n      }));\n    } else if (key === 'avatar') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url\n      }));\n    } else if (withLocalKey) {\n      result[key] = data[key].filter(elem => !!elem);\n    } else {\n      result[key] = data[key] ? data[key] : '';\n    }\n  });\n\n  return result;\n};\n\nconst uploadData = async (data, uuid = '') => {\n  try {\n    if (uuid) {\n      data.uuid = uuid;\n      data.timestamp = Date.now();\n      await update('/news', uuid, data);\n    } else {\n      data.uuid = uuidV4();\n      data.createdTimestamp = Date.now();\n      data.timestamp = data.createdTimestamp;\n      await create('/news', data.uuid, data);\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\nconst MemberForm = ({ form, match, history }) => {\n  const { validateFields, getFieldDecorator, setFieldsValue } = form;\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({});\n\n  const createDataBinder = useCallback(() => {\n    dataBindingConfs.forEach(elem => {\n      if (elem.withLocalKey) {\n        // Create ''only'' local key binder first when it's dynamic input, otherwise it will crash .\n        getFieldDecorator(`${elem.key}-idx`);\n      } else {\n        getFieldDecorator(elem.key);\n      }\n    });\n  }, [getFieldDecorator]);\n\n  const setInitFormValue = useCallback(\n    data => {\n      const setPair = {};\n      const delaySetPair = {}; // dynamic input data need to set ''after'' its component created.\n\n      dataBindingConfs.forEach(({ key, withLocalKey, defaultValue }) => {\n        if (key === 'imgs') {\n          const value = data[key]\n            ? data[key].map((imgInfo, idx) => ({\n                file: {\n                  uid: `img-${idx}`,\n                  name: imgInfo.name,\n                  status: 'done',\n                  url: imgInfo.url\n                },\n                caption: imgInfo.caption\n              }))\n            : defaultValue;\n          setPair[key] = value;\n        } else if (key === 'avatar') {\n          const value = data[key]\n            ? [\n                {\n                  file: {\n                    uid: 'avatar',\n                    name: data.avatar[0].name,\n                    status: 'done',\n                    url: data.avatar[0].url\n                  },\n                  caption: ''\n                }\n              ]\n            : defaultValue;\n          setPair[key] = value;\n        } else if (withLocalKey) {\n          const idxValue = data[key]\n            ? [...Array(data[key].length)].map((elem, idx) => idx)\n            : [0];\n\n          setPair[`${key}-idx`] = idxValue;\n          delaySetPair[key] = data[key] ? data[key] : defaultValue;\n        } else {\n          setPair[key] = data[key] ? data[key] : defaultValue;\n        }\n      });\n\n      setFieldsValue(setPair);\n      setTimeout(() => setFieldsValue(delaySetPair), 0);\n    },\n    [setFieldsValue]\n  );\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      validateFields(async (err, data) => {\n        if (!err) {\n          console.log('Received values of form: ', data);\n          try {\n            const preparedData = prepareUploadedData(data);\n            await uploadData(preparedData, match.params.uuid);\n\n            notification.success({\n              message: `Create/Edit ${data.title} complete!`,\n              duration: 4\n            });\n            history.push(`/news/list`);\n          } catch (e) {\n            console.error(e);\n            notification.error({\n              message: `Create ${data.title} error!`,\n              description: `${e}`,\n              duration: 2\n            });\n          }\n        } else {\n          console.log('NEWS ON SUBMIT ERROR:', err);\n        }\n      });\n    },\n    [validateFields, match.params.uuid, history]\n  );\n\n  useEffect(() => {\n    const fetchData = async uuid => {\n      setIsLoading(true);\n      // const data = await fakeAPI();\n      const data = await get('/news', uuid);\n      if (data) {\n        setData(data);\n        setInitFormValue(data);\n      }\n      setIsLoading(false);\n    };\n\n    createDataBinder();\n\n    if (match.params.uuid) {\n      fetchData(match.params.uuid);\n    } else {\n      setIsLoading(false);\n    }\n  }, [\n    setIsLoading,\n    setData,\n    setInitFormValue,\n    createDataBinder,\n    match.params.uuid\n  ]);\n\n  if (isLoading) {\n    return <Spin indicator={<LoadingIcon type=\"loading\" spin />} />;\n  }\n\n  return (\n    <Form\n      onSubmit={handleSubmit}\n      labelCol={{ span: 3 }}\n      wrapperCol={{ span: 12, offset: 1 }}\n    >\n      <Form.Item label=\"UUID\">\n        {data.uuid ? <strong>{data.uuid}</strong> : ''}\n      </Form.Item>\n      <InputItem label=\"Title\">\n        <Field\n          dataKey={dataBindingKeys.title}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set the title of this news.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Description\">\n        <TextArea\n          dataKey={dataBindingKeys.description}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Date\">\n        <Field\n          dataKey={dataBindingKeys.date}\n          validationRules={[\n            {\n              validator: (rule, value) => /^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(value),\n              message:\n                'Input must be format as YYYY-MM-DD.'\n            },\n            {\n              required: true,\n              message:\n                'Please set the date of this news(YYYY-MM-DD).'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <ButtonWrapper>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n        <Link to=\"/news/list\">\n          <Button type=\"danger\">Back</Button>\n        </Link>\n      </ButtonWrapper>\n    </Form>\n  );\n};\n\nexport default Form.create()(MemberForm);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nexport default ({ match }) => {\n  const { url } = match;\n  return (\n    <Switch>\n      <Route exact path={`${url}/list`} component={List} />\n      <Route path={`${url}/:uuid/edit`} component={Form} />\n      <Route path={`${url}/create`} component={Form} />\n      <Redirect from=\"*\" to={`${url}/list`} />\n    </Switch>\n  );\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { Table, Divider, Tag, Button, Popconfirm, notification } from 'antd';\nimport _ from 'lodash';\n\nimport getFiltersFuncProps from '../../utils/getFiltersFuncProps';\nimport { getAll, remove } from '../../apis/firebaseApis';\n\nexport default () => {\n  const [list, setList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getAll('/projects');\n        setList(_.values(data));\n        // console.log(_.values(data))\n      } catch (e) {\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const onRemove = async uuid => {\n    setIsLoading(true);\n    try {\n      await remove('/projects', uuid);\n      setList(preList => preList.filter(elem => elem.uuid !== uuid));\n      notification.success({\n        message: `Remove Complete!`,\n        duration: 4\n      });\n    } catch (e) {\n      notification.error({\n        message: `Remove Error!`,\n        description: `${e}`,\n        duration: 4\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const renderTags = useCallback(\n    tags =>\n      tags && (\n        <span>\n          {tags.map(tag => (\n            <Tag color=\"volcano\" key={tag}>\n              {tag.toUpperCase()}\n            </Tag>\n          ))}\n        </span>\n      ),\n    []\n  );\n\n  const renderLastEditTime = useCallback(\n    timestamp =>\n      moment(timestamp)\n        .local()\n        .format('YYYY/MM/DD HH:mm:ss'),\n    []\n  );\n\n  const renderAction = useCallback(\n    (text, record) => (\n      <span>\n        <Link to={`/projects/${record.uuid}/edit`}>Edit</Link>\n        <Divider type=\"vertical\" />\n        <Popconfirm\n          title=\"Are you sure to delete ?\"\n          onConfirm={() => onRemove(record.uuid)}\n          okText=\"Yes\"\n          cancelText=\"No\"\n        >\n          <a href=\"javascript:;\">Delete</a>\n        </Popconfirm>\n      </span>\n    ),\n    []\n  );\n\n  return (\n    <>\n      <Link to=\"/projects/create\">\n        <Button\n          type=\"primary\"\n          style={{\n            marginLeft: '15px',\n            marginBottom: '15px'\n          }}\n        >\n          Create\n        </Button>\n      </Link>\n      <Table dataSource={list} loading={isLoading}>\n        <Table.Column\n          title=\"Title\"\n          dataIndex=\"title\"\n          key=\"title\"\n          {...getFiltersFuncProps('title')}\n        />\n        <Table.Column\n          title=\"Year\"\n          dataIndex=\"year\"\n          key=\"year\"\n          sorter={(a, b) => parseInt(a.year) - parseInt(b.year)}\n        />\n        <Table.Column\n          title=\"Tags\"\n          dataIndex=\"tags\"\n          key=\"tags\"\n          render={renderTags}\n        />\n        <Table.Column\n          title=\"Last edit\"\n          dataIndex=\"timestamp\"\n          key=\"timestamp\"\n          render={renderLastEditTime}\n        />\n        <Table.Column title=\"Action\" key=\"action\" render={renderAction} />\n      </Table>\n    </>\n  );\n};\n","/**\n * In order to work with antd Form data binding\n */\n\nexport const dataBindingConfs = [\n  {\n    key: 'showTitle',\n    defaultValue: ''\n  },\n  {\n    key: 'title',\n    defaultValue: ''\n  },\n  {\n    key: 'year',\n    defaultValue: '',\n  },\n  {\n    key: 'authors',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'abstract',\n    defaultValue: ''\n  },\n  {\n    key: 'cover',\n    defaultValue: [],\n  },\n  {\n    key: 'imgs',\n    defaultValue: []\n  },\n  {\n    key: 'videos',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'descriptions',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'tags',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'acceptedYear',\n    defaultValue: '',\n  },\n  {\n    key: 'publicationOn',\n    defaultValue: ''\n  },\n  {\n    key: 'pdf',\n    defaultValue: ''\n  },\n  {\n    key: 'doi',\n    defaultValue: ''\n  }\n];\n\nexport const dataBindingKeys = dataBindingConfs.reduce(\n  (acc, current) => ({ ...acc, [current.key]: current.key }),\n  {}\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Spin, Icon, notification } from 'antd';\nimport styled from 'styled-components';\nimport uuidV4 from 'uuid/v4';\n\nimport DynamicInput from '../../components/DynamicInput';\nimport ImgUploader from '../../components/ImgUploader';\nimport DynamicMutiInput from '../../components/DynamicMutiInput';\nimport { InputItem, TextArea, Field } from '../../components/Input';\n\nimport { dataBindingConfs, dataBindingKeys } from '../../configs/projects';\nimport { create, get, update } from '../../apis/firebaseApis';\n\nconst LoadingIcon = styled(Icon)`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  font-size: 24;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 40px 0 0 40px;\n\n  > * {\n    margin: 0 5px;\n  }\n`;\n\nconst prepareUploadedData = data => {\n  const result = {};\n\n  dataBindingConfs.forEach(({ key, withLocalKey }) => {\n    if (key === 'imgs') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url,\n        caption: elem.caption\n      }));\n    } else if (key === 'cover') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url\n      }));\n    } else if (withLocalKey) {\n      result[key] = data[key].filter(elem => !!elem);\n    } else {\n      result[key] = data[key] ? data[key] : '';\n    }\n  });\n\n  return result;\n};\n\nconst uploadData = async (data, uuid = '') => {\n  try {\n    if (uuid) {\n      data.uuid = uuid;\n      data.timestamp = Date.now();\n      await update('/projects', uuid, data);\n    } else {\n      data.uuid = uuidV4();\n      data.createdTimestamp = Date.now();\n      data.timestamp = data.createdTimestamp;\n      await create('/projects', data.uuid, data);\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\nconst ProjectForm = ({ form, match, history }) => {\n  const { validateFields, getFieldDecorator, setFieldsValue } = form;\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({});\n\n  const createDataBinder = useCallback(() => {\n    dataBindingConfs.forEach(elem => {\n      if (elem.withLocalKey) {\n        // Create ''only'' local key binder first when it's dynamic input, otherwise it will crash .\n        getFieldDecorator(`${elem.key}-idx`);\n      } else {\n        getFieldDecorator(elem.key);\n      }\n    });\n  }, [getFieldDecorator]);\n\n  const setInitFormValue = useCallback(\n    data => {\n      const setPair = {};\n      const delaySetPair = {}; // dynamic input data need to set ''after'' its component created.\n\n      dataBindingConfs.forEach(({ key, withLocalKey, defaultValue }) => {\n        if (key === 'imgs') {\n          const value = data[key]\n            ? data[key].map((imgInfo, idx) => ({\n                file: {\n                  uid: `img-${idx}`,\n                  name: imgInfo.name,\n                  status: 'done',\n                  url: imgInfo.url\n                },\n                caption: imgInfo.caption\n              }))\n            : defaultValue;\n          setPair[key] = value;\n        } else if (key === 'cover') {\n          const value = data[key]\n            ? [\n                {\n                  file: {\n                    uid: 'cover',\n                    name: data.cover[0].name,\n                    status: 'done',\n                    url: data.cover[0].url\n                  },\n                  caption: ''\n                }\n              ]\n            : defaultValue;\n          setPair[key] = value;\n        } else if (withLocalKey) {\n          const idxValue = data[key]\n            ? [...Array(data[key].length)].map((elem, idx) => idx)\n            : [0];\n\n          setPair[`${key}-idx`] = idxValue;\n          delaySetPair[key] = data[key] ? data[key] : defaultValue;\n        } else {\n          setPair[key] = data[key] ? data[key] : defaultValue;\n        }\n      });\n\n      setFieldsValue(setPair);\n      setTimeout(() => setFieldsValue(delaySetPair), 0);\n    },\n    [setFieldsValue]\n  );\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      validateFields(async (err, data) => {\n        if (!err) {\n          console.log('Received values of form: ', data);\n          try {\n            const preparedData = prepareUploadedData(data);\n            await uploadData(preparedData, match.params.uuid);\n\n            notification.success({\n              message: `Create/Edit ${data.title} complete!`,\n              duration: 4\n            });\n            history.push(`/projects/list`);\n          } catch (e) {\n            console.error(e);\n            notification.error({\n              message: `Create ${data.title} error!`,\n              description: `${e}`,\n              duration: 2\n            });\n          }\n        } else {\n          console.log('PROJECT ON SUBMIT ERROR:', err);\n        }\n      });\n    },\n    [validateFields, match.params.uuid, history]\n  );\n\n  useEffect(() => {\n    const fetchData = async uuid => {\n      setIsLoading(true);\n      // const data = await fakeAPI();\n      const data = await get('/projects', uuid);\n      if (data) {\n        setData(data);\n        setInitFormValue(data);\n      }\n      setIsLoading(false);\n    };\n\n    createDataBinder();\n\n    if (match.params.uuid) {\n      fetchData(match.params.uuid);\n    } else {\n      setIsLoading(false);\n    }\n  }, [\n    setIsLoading,\n    setData,\n    setInitFormValue,\n    createDataBinder,\n    match.params.uuid\n  ]);\n\n  if (isLoading) {\n    return <Spin indicator={<LoadingIcon type=\"loading\" spin />} />;\n  }\n\n  return (\n    <Form\n      onSubmit={handleSubmit}\n      labelCol={{ span: 3 }}\n      wrapperCol={{ span: 12, offset: 1 }}\n    >\n      <Form.Item label=\"UUID\">\n        {data.uuid ? <strong>{data.uuid}</strong> : ''}\n      </Form.Item>\n      <InputItem label=\"Show title\">\n        <Field\n          dataKey={dataBindingKeys.showTitle}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set the show title which will show on the enter image of this project.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Title\">\n        <Field\n          dataKey={dataBindingKeys.title}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the title of this project.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Year\">\n        <Field\n          dataKey={dataBindingKeys.year}\n          validationRules={[\n            {\n              validator: (rule, value) => !isNaN(value),\n              message: 'The input must be a number.'\n            },\n            {\n              required: true,\n              message: 'Please set the starting year of this project.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Authors\">\n        <DynamicInput\n          dataKey={dataBindingKeys.authors}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set at least one author of this project, and remove unuse feild.'\n            }\n          ]}\n          {...form}\n        />\n      </Form.Item>\n      <Form.Item label=\"Cover\">\n        <ImgUploader\n          title=\"Cover\"\n          dataKey={dataBindingKeys.cover}\n          isSingleImg\n          endpoint=\"/projects\"\n          {...form}\n        />\n      </Form.Item>\n      <Form.Item label=\"Images\">\n        <ImgUploader dataKey={dataBindingKeys.imgs} withCaption {...form} />\n      </Form.Item>\n      <Form.Item label=\"Video links\">\n        <DynamicInput\n          dataKey={dataBindingKeys.videos}\n          validationRules={[\n            {\n              type: 'url',\n              message: 'Input must be a link.'\n            }\n          ]}\n          {...form}\n        />\n      </Form.Item>\n      <InputItem label=\"Abstract\">\n        <TextArea\n          dataKey={dataBindingKeys.abstract}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the abstract of this project.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Descriptions\">\n        <DynamicInput\n          dataKey={dataBindingKeys.descriptions}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set at least one description section of this project, and remove unuse feild.'\n            }\n          ]}\n          isTextArea\n          {...form}\n        />\n      </Form.Item>\n      <Form.Item label=\"Tags\">\n        <DynamicInput dataKey={dataBindingKeys.tags} {...form} />\n      </Form.Item>\n      <InputItem label=\"Publication on\">\n        <Field dataKey={dataBindingKeys.publicationOn} {...form} />\n      </InputItem>\n      <InputItem label=\"Accepted year\">\n        <Field\n          dataKey={dataBindingKeys.acceptedYear}\n          validationRules={[\n            {\n              validator: (rule, value) => value === undefined || !isNaN(value),\n              message: 'Input must be a number.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"PDF link\">\n        <Field\n          dataKey={dataBindingKeys.pdf}\n          validationRules={[\n            {\n              type: 'url',\n              message: 'Input must be a link.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"DOI link\">\n        <Field\n          dataKey={dataBindingKeys.doi}\n          validationRules={[\n            {\n              type: 'url',\n              message: 'Input must be a link.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Yo\">\n        <DynamicMutiInput dataKey=\"test\" {...form} />\n      </Form.Item>\n      <ButtonWrapper>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n        <Link to=\"/projects/list\">\n          <Button type=\"danger\">Back</Button>\n        </Link>\n      </ButtonWrapper>\n    </Form>\n  );\n};\n\nexport default Form.create()(ProjectForm);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nexport default ({ match }) => {\n  const { url } = match;\n  return (\n    <Switch>\n      <Route exact path={`${url}/list`} component={List} />\n      <Route path={`${url}/:uuid/edit`} component={Form} />\n      <Route path={`${url}/create`} component={Form} />\n      <Redirect from=\"*\" to={`${url}/list`} />\n    </Switch>\n  );\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { Table, Divider, Button, Popconfirm, notification } from 'antd';\nimport _ from 'lodash';\n\nimport getFiltersFuncProps from '../../utils/getFiltersFuncProps';\nimport { getAll, remove } from '../../apis/firebaseApis';\n\nexport default () => {\n  const [list, setList] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const data = await getAll('/courses');\n        setList(_.values(data));\n        // console.log(_.values(data))\n      } catch (e) {\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const onRemove = async uuid => {\n    setIsLoading(true);\n    try {\n      await remove('/courses', uuid);\n      setList(preList => preList.filter(elem => elem.uuid !== uuid));\n      notification.success({\n        message: `Remove Complete!`,\n        duration: 4\n      });\n    } catch (e) {\n      notification.error({\n        message: `Remove Error!`,\n        description: `${e}`,\n        duration: 4\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const renderLastEditTime = useCallback(\n    timestamp =>\n      moment(timestamp)\n        .local()\n        .format('YYYY/MM/DD HH:mm:ss'),\n    []\n  );\n\n  const renderAction = useCallback(\n    (text, record) => (\n      <span>\n        <Link to={`/courses/${record.uuid}/edit`}>Edit</Link>\n        <Divider type=\"vertical\" />\n        <Popconfirm\n          title=\"Are you sure to delete ?\"\n          onConfirm={() => onRemove(record.uuid)}\n          okText=\"Yes\"\n          cancelText=\"No\"\n        >\n          <a href=\"javascript:;\">Delete</a>\n        </Popconfirm>\n      </span>\n    ),\n    []\n  );\n\n  return (\n    <>\n      <Link to=\"/courses/create\">\n        <Button\n          type=\"primary\"\n          style={{\n            marginLeft: '15px',\n            marginBottom: '15px'\n          }}\n        >\n          Create\n        </Button>\n      </Link>\n      <Table dataSource={list} loading={isLoading}>\n        <Table.Column\n          title=\"Course ID\"\n          dataIndex=\"courseID\"\n          key=\"courseID\"\n          {...getFiltersFuncProps('courseID')}\n        />\n        <Table.Column\n          title=\"Name\"\n          dataIndex=\"name\"\n          key=\"name\"\n          {...getFiltersFuncProps('name')}\n        />\n        <Table.Column title=\"Location\" dataIndex=\"location\" key=\"location\" />\n        <Table.Column\n          title=\"Last edit\"\n          dataIndex=\"timestamp\"\n          key=\"timestamp\"\n          render={renderLastEditTime}\n          sorter={(a, b) => parseInt(a.timestamp) - parseInt(b.timestamp)}\n        />\n        <Table.Column title=\"Action\" key=\"action\" render={renderAction} />\n      </Table>\n    </>\n  );\n};\n","/**\n * In order to work with antd Form data binding\n */\n\nexport const dataBindingConfs = [\n  {\n    key: 'courseID',\n    defaultValue: ''\n  },\n  {\n    key: 'name',\n    defaultValue: ''\n  },\n  {\n    key: 'credits',\n    defaultValue: ''\n  },\n  {\n    key: 'location',\n    defaultValue: '',\n  },\n  {\n    key: 'tas',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'office',\n    defaultValue: ''\n  },\n  {\n    key: 'officeHours',\n    defaultValue: [],\n  },\n  {\n    key: 'descriptions',\n    defaultValue: [],\n    withLocalKey: true\n  },\n  {\n    key: 'link',\n    defaultValue: '',\n  },\n];\n\nexport const dataBindingKeys = dataBindingConfs.reduce(\n  (acc, current) => ({ ...acc, [current.key]: current.key }),\n  {}\n);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Spin, Icon, notification } from 'antd';\nimport styled from 'styled-components';\nimport uuidV4 from 'uuid/v4';\n\nimport DynamicInput from '../../components/DynamicInput';\nimport DynamicMutiInput from '../../components/DynamicMutiInput';\nimport { InputItem, Field } from '../../components/Input';\n\nimport { dataBindingConfs, dataBindingKeys } from '../../configs/courses';\nimport { create, get, update } from '../../apis/firebaseApis';\n\nconst LoadingIcon = styled(Icon)`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  font-size: 24;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 40px 0 0 40px;\n\n  > * {\n    margin: 0 5px;\n  }\n`;\n\nconst prepareUploadedData = data => {\n  const result = {};\n\n  dataBindingConfs.forEach(({ key, withLocalKey }) => {\n    if (key === 'imgs') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url,\n        caption: elem.caption\n      }));\n    } else if (key === 'avatar') {\n      result[key] = data[key].map(elem => ({\n        name: elem.file.name,\n        url: elem.file.url\n      }));\n    } else if (withLocalKey) {\n      result[key] = data[key].filter(elem => !!elem);\n    } else {\n      result[key] = data[key] ? data[key] : '';\n    }\n  });\n\n  return result;\n};\n\nconst uploadData = async (data, uuid = '') => {\n  try {\n    if (uuid) {\n      data.uuid = uuid;\n      data.timestamp = Date.now();\n      await update('/courses', uuid, data);\n    } else {\n      data.uuid = uuidV4();\n      data.createdTimestamp = Date.now();\n      data.timestamp = data.createdTimestamp;\n      await create('/courses', data.uuid, data);\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\nconst MemberForm = ({ form, match, history }) => {\n  const { validateFields, getFieldDecorator, setFieldsValue } = form;\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({});\n\n  const createDataBinder = useCallback(() => {\n    dataBindingConfs.forEach(elem => {\n      if (elem.withLocalKey) {\n        // Create ''only'' local key binder first when it's dynamic input, otherwise it will crash .\n        getFieldDecorator(`${elem.key}-idx`);\n      } else {\n        getFieldDecorator(elem.key);\n      }\n    });\n  }, [getFieldDecorator]);\n\n  const setInitFormValue = useCallback(\n    data => {\n      const setPair = {};\n      const delaySetPair = {}; // dynamic input data need to set ''after'' its component created.\n\n      dataBindingConfs.forEach(({ key, withLocalKey, defaultValue }) => {\n        if (key === 'imgs') {\n          const value = data[key]\n            ? data[key].map((imgInfo, idx) => ({\n                file: {\n                  uid: `img-${idx}`,\n                  name: imgInfo.name,\n                  status: 'done',\n                  url: imgInfo.url\n                },\n                caption: imgInfo.caption\n              }))\n            : defaultValue;\n          setPair[key] = value;\n        } else if (key === 'avatar') {\n          const value = data[key]\n            ? [\n                {\n                  file: {\n                    uid: 'avatar',\n                    name: data.avatar[0].name,\n                    status: 'done',\n                    url: data.avatar[0].url\n                  },\n                  caption: ''\n                }\n              ]\n            : defaultValue;\n          setPair[key] = value;\n        } else if (withLocalKey) {\n          const idxValue = data[key]\n            ? [...Array(data[key].length)].map((elem, idx) => idx)\n            : defaultValue;\n\n          setPair[`${key}-idx`] = idxValue;\n          delaySetPair[key] = data[key] ? data[key] : defaultValue;\n        } else {\n          setPair[key] = data[key] ? data[key] : defaultValue;\n        }\n      });\n\n      setFieldsValue(setPair);\n      setTimeout(() => setFieldsValue(delaySetPair), 0);\n    },\n    [setFieldsValue]\n  );\n\n  const handleSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      validateFields(async (err, data) => {\n        if (!err) {\n          console.log('Received values of form: ', data);\n          try {\n            const preparedData = prepareUploadedData(data);\n            await uploadData(preparedData, match.params.uuid);\n\n            notification.success({\n              message: `Create/Edit ${data.title} complete!`,\n              duration: 4\n            });\n            history.push(`/courses/list`);\n          } catch (e) {\n            console.error(e);\n            notification.error({\n              message: `Create ${data.title} error!`,\n              description: `${e}`,\n              duration: 2\n            });\n          }\n        } else {\n          console.log('COURSE ON SUBMIT ERROR:', err);\n        }\n      });\n    },\n    [validateFields, match.params.uuid, history]\n  );\n\n  useEffect(() => {\n    const fetchData = async uuid => {\n      setIsLoading(true);\n      // const data = await fakeAPI();\n      const data = await get('/courses', uuid);\n      if (data) {\n        setData(data);\n        setInitFormValue(data);\n      }\n      setIsLoading(false);\n    };\n\n    createDataBinder();\n\n    if (match.params.uuid) {\n      fetchData(match.params.uuid);\n    } else {\n      setIsLoading(false);\n    }\n  }, [\n    setIsLoading,\n    setData,\n    setInitFormValue,\n    createDataBinder,\n    match.params.uuid\n  ]);\n\n  if (isLoading) {\n    return <Spin indicator={<LoadingIcon type=\"loading\" spin />} />;\n  }\n\n  return (\n    <Form\n      onSubmit={handleSubmit}\n      labelCol={{ span: 3 }}\n      wrapperCol={{ span: 12, offset: 1 }}\n    >\n      <Form.Item label=\"UUID\">\n        {data.uuid ? <strong>{data.uuid}</strong> : ''}\n      </Form.Item>\n      <InputItem label=\"Course ID\">\n        <Field\n          dataKey={dataBindingKeys.courseID}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the course id of this course.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Name\">\n        <Field\n          dataKey={dataBindingKeys.name}\n          validationRules={[\n            {\n              required: true,\n              message:\n                'Please set the name of this course.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Credits\">\n        <Field\n          dataKey={dataBindingKeys.credits}\n          validationRules={[\n            {\n              validator: (rule, value) => !isNaN(value),\n              message: 'The input must be an number.'\n            },\n            {\n              required: true,\n              message: 'Please set the credits of this course.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Location\">\n        <Field\n          dataKey={dataBindingKeys.location}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the location of this course.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"TAs\">\n        <DynamicMutiInput\n          dataKey={dataBindingKeys.tas}\n          fields={[\n            {\n              key: 'name',\n              inputParams: {\n                placeholder: 'TA\\'s name',\n              },\n              validationRules: [\n                {\n                  required: true,\n                  message: \"TA's name is required.\"\n                }\n              ]\n            },\n            {\n              key: 'email',\n              inputParams: {\n                placeholder: 'TA\\'s email'\n              },\n              validationRules: [\n                {\n                  required: true,\n                  message: \"TA's email is required.\"\n                },\n                {\n                  type: 'email',\n                  message: \"Input must be email.\"\n                },\n              ]\n            },\n          ]}\n          {...form}\n        />\n      </Form.Item>\n      <InputItem label=\"Office\">\n        <Field\n          dataKey={dataBindingKeys.office}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the professor\\'s office.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <InputItem label=\"Office hours\">\n        <Field\n          dataKey={dataBindingKeys.officeHours}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the professor\\'s office hours.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <Form.Item label=\"Descriptions\">\n        <DynamicInput dataKey={dataBindingKeys.descriptions} {...form} />\n      </Form.Item>\n      <InputItem label=\"Information link\">\n        <Field\n          dataKey={dataBindingKeys.link}\n          validationRules={[\n            {\n              required: true,\n              message: 'Please set the link to the nctu course information page.'\n            },\n            {\n              type: 'url',\n              message: 'The input must be an url.'\n            }\n          ]}\n          {...form}\n        />\n      </InputItem>\n      <ButtonWrapper>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n        <Link to=\"/courses/list\">\n          <Button type=\"danger\">Back</Button>\n        </Link>\n      </ButtonWrapper>\n    </Form>\n  );\n};\n\nexport default Form.create()(MemberForm);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport List from './List';\nimport Form from './Form';\n\nexport default ({ match }) => {\n  const { url } = match;\n  return (\n    <Switch>\n      <Route exact path={`${url}/list`} component={List} />\n      <Route path={`${url}/:uuid/edit`} component={Form} />\n      <Route path={`${url}/create`} component={Form} />\n      <Redirect from=\"*\" to={`${url}/list`} />\n    </Switch>\n  );\n};\n","import React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport { NavLink, Switch, Route, Redirect } from 'react-router-dom';\nimport { Layout, Menu, Icon, Button } from 'antd';\n\nimport firebase from '../firebase';\nimport Logo from '../components/Logo';\nimport Members from './Members';\nimport News from './News';\nimport Projects from './Projects';\nimport Courses from './Courses';\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nconst Link = styled(NavLink)`\n  &.active > span {\n    color: #fff;\n  }\n`;\n\nexport default () => {\n  const signOut = useCallback(() => {\n    firebase.auth().signOut();\n  }, []);\n\n  return (\n    <Layout style={{ minWidth: '100vw', minHeight: '100vh' }}>\n      <Sider breakpoint=\"lg\" collapsedWidth=\"0\">\n        <Logo>Cross Reality Lab</Logo>\n        <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[]}>\n          <Menu.Item key=\"1\">\n            <Link to=\"/projects\" activeClassName=\"active\">\n              <Icon type=\"project\" />\n              <span>Projects</span>\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"2\">\n            <Link to=\"/members\" activeClassName=\"active\">\n              <Icon type=\"user\" />\n              <span>Members</span>\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"3\">\n            <Link to=\"/news\" activeClassName=\"active\">\n              <Icon type=\"alert\" />\n              <span>News</span>\n            </Link>\n          </Menu.Item>\n          <Menu.Item key=\"4\">\n            <Link to=\"/courses\" activeClassName=\"active\">\n              <Icon type=\"book\" />\n              <span>Courses</span>\n            </Link>\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Layout>\n        <Header\n          style={{ background: '#fff', padding: '0 20px', textAlign: 'end' }}\n        >\n          <Button type=\"danger\" onClick={signOut}>\n            Sign out\n          </Button>\n        </Header>\n        <Content style={{ margin: '24px 16px 0' }}>\n          <Switch>\n            <Route path=\"/projects\" component={Projects} />\n            <Route path=\"/members\" component={Members} />\n            <Route path=\"/news\" component={News} />\n            <Route path=\"/courses\" component={Courses} />\n            <Redirect to=\"/projects\" />\n          </Switch>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>\n          Cross Reality Lab Admin ©2019\n        </Footer>\n      </Layout>\n    </Layout>\n  );\n};\n","import React, { useCallback, useContext } from 'react';\nimport styled from 'styled-components';\nimport { Redirect } from 'react-router';\nimport { Form, Icon, Button, notification } from 'antd';\n\nimport firebase from '../firebase';\nimport { AuthContext } from '../providers/Auth';\nimport { InputItem, Field } from '../components/Input';\n\nconst MiddlizeWrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  padding-top: 10%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: #eee;\n`;\n\nconst Login = ({ history, form }) => {\n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      form.validateFields(async (err, values) => {\n        if (!err) {\n          const { account, password } = values;\n          try {\n            await firebase.auth().signInWithEmailAndPassword(account, password);\n            history.push('/');\n          } catch (error) {\n            notification.error({\n              message: `Auth to server error`,\n              description: `${error}`,\n              duration: 2\n            });\n          }\n        }\n      });\n    },\n    [history, form]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <MiddlizeWrapper>\n      <h1>CR Lab</h1>\n      <Form onSubmit={handleLogin}>\n        <InputItem>\n          <Field\n            dataKey=\"account\"\n            validationRules={[\n              { required: true, message: 'Please input your account.' },\n              { type: 'email', message: 'Account should be an email.' }\n            ]}\n            inputProps={{\n              prefix: <Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />,\n              placeholder: 'Account'\n            }}\n            {...form}\n          />\n        </InputItem>\n        <InputItem>\n          <Field\n            dataKey=\"password\"\n            validationRules={[\n              { required: true, message: 'Please input your password.' }\n            ]}\n            inputProps={{\n              prefix: <Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />,\n              type: 'password',\n              placeholder: 'Password'\n            }}\n            {...form}\n          />\n        </InputItem>\n        <Button htmlType=\"submit\" style={{ float: 'right' }}>\n          Log in\n        </Button>\n      </Form>\n    </MiddlizeWrapper>\n  );\n};\n\nexport default Form.create()(Login);\n","import React, { useContext } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { AuthContext } from './providers/Auth';\n\nimport Main from './pages/Main';\nimport Login from './pages/Login';\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const { currentUser } = useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={routeProps =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={'/login'} />\n        )\n      }\n    />\n  );\n};\n\nexport default () => {\n  return (\n    <Switch>\n      <Route exact path=\"/login\" component={Login} />\n      <PrivateRoute path=\"/\" component={Main} />\n    </Switch>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\n\nimport App from \"./App\";\nimport { AuthProvider } from './providers/Auth';\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <HashRouter>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}